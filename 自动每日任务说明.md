# 自动每日任务系统说明

## 功能概述

自动每日任务系统为道法仙术玩家提供全自动的日常奖励领取功能，无需手动操作即可享受完整的游戏福利。

## 执行时间

- **每天00:05自动执行**（避免与道法仙术扣减任务冲突）
- 仅针对当前有效的道法仙术玩家

## 自动执行的功能

### 1.  自动签到
- 自动执行每日签到
- 道法仙术玩家奖励翻倍
- 连续签到天数自动计算
- 奖励：修为、血气、源石、灵石、秘境之匙、喇叭

### 2.  自动领取势力俸禄
- 支持瑶池、摇光圣地势力
- 根据职位发放对应俸禄
- 道法仙术玩家俸禄翻倍
- 自动记录领取状态，避免重复领取

### 3.  自动天道赐福
- 境界要求：22级以上
- 根据等级计算基础奖励
- 职业额外奖励（侠客令、唤魔令等）
- 高等级特殊奖励（仙舟、神域令牌）
- 道法仙术玩家额外获得丹药奖励

### 4.  自动道法赐福
- 仅道法仙术玩家可享受
- 连续赐福天数累计
- 连续7天重置并奖励超越宝盒
- 丰富奖励：修为、血气、各种道具

## 道法仙术特权

作为道法仙术玩家，所有奖励均享受**翻倍加成**：
- 签到奖励 ×2
- 势力俸禄 ×2  
- 天道赐福基础奖励 ×2
- 额外获得高级丹药

## 测试功能

管理员可使用 `#测试自动任务` 命令立即执行一次自动任务，用于测试功能是否正常。

## 日志输出

系统会在控制台输出详细的执行日志：
- 发现的道法仙术玩家数量
- 每个玩家的任务执行状态
- 成功/失败统计
- 具体奖励发放情况

## 注意事项

1. **仅限道法仙术玩家**：普通玩家不会被执行自动任务
2. **避免重复执行**：系统会检查每个功能的今日执行状态
3. **异常处理**：单个玩家出错不会影响其他玩家的任务执行
4. **数据安全**：所有操作都有完整的错误处理和日志记录

## 文件位置

- 主程序：`apps/tasks/AutoDailyTask.js`
- 初始化：`model/XiuxianData.js`

## 启用方式

系统会在服务启动时自动初始化，无需额外配置。确保道法仙术玩家在00:05前保持在线状态即可享受自动任务服务。